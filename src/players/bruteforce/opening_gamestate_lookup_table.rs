use crate::helpers::encoding_gamestates::turn_series_of_columns_to_encoded_gamestate;
use crate::helpers::moves::possible_next_gamestates;

const BASE: u128 = 2;

pub fn opening_moves(gamestate: u128) -> u128 {
    if gamestate.count_ones() > 3 {
        return possible_next_gamestates(gamestate).next().unwrap();
    }

    turn_series_of_columns_to_encoded_gamestate(
        &match gamestate {
            1180591620717411303424 => 14,
            4722366482869645213696 => 23,
            18889465931478580854784 => 36,
            75557863725914323419136 => 44,
            302231454903657293676544 => 54,
            1208925819614629174706176 => 65,
            4835703278458516698824704 => 76,

            152296391130140096069632 => 1414,
            157018685555415703355392 => 1424,
            171185785004024638996480 => 1434,
            152300930758564485529600 => 1444,
            454527773976203351818240 => 1454,
            1361222138687175232847872 => 1464,
            4987999597531062756966400 => 1475,

            43681889966544218226688 => 2313,
            42501586576202958635008 => 2322,
            42502451267331413770240 => 2333,
            118059162071741130342400 => 2344,
            344732753249484100599808 => 2353,
            1251427117960455981629440 => 2367,
            4878204576804343505747968 => 2376,

            2437921696781454341570560 => 3613,
            2441463471643606575480832 => 3624,
            2436742258082241537114112 => 3633,
            2512298968886651253686272 => 3642,
            2738972560064394223943680 => 3653,
            2436814892137031768473600 => 3663,
            7272444383619253629091840 => 3672,

            76747678718668589498368 => 4413,
            80289453580820823408640 => 4423,
            94456553029429759049728 => 4432,
            75567087379426154905600 => 4444,
            377798542001608471871488 => 4453,
            1284492906712580352901120 => 4465,
            4911270365556467877019648 => 4475,

            454527773976203351818240 => 5414,
            458069548838355585728512 => 5424,
            472236648286964521369600 => 5434,
            453351794041504367902720 => 5444,
            453365629099559650066432 => 5455,
            1662273001970115115220992 => 5464,
            5289050460814002639339520 => 5474,

            1814569321042661173362688 => 6515,
            1818111095904813407272960 => 6525,
            1832278195353422342914048 => 6535,
            1888946593147858085478400 => 6544,
            1813407176166017471610880 => 6555,
            1813462516398238600265728 => 6566,
            6649092007880460460883968 => 6575,

            7254735509308492459540480 => 7613,
            7258277284170644693450752 => 7623,
            7272444383619253629091840 => 7632,
            7329112781413689371656192 => 7644,
            7555786372591432341913600 => 7655,
            7253628704664069886443520 => 7666,
            7253850065592954401062912 => 7677,

            _ => possible_next_gamestates(gamestate).next().unwrap(),
        }
        .to_string(),
    )
}
