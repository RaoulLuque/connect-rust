use std::time::Duration;

use crate::helpers::encoding_gamestates::turn_series_of_columns_to_encoded_gamestate;
use crate::players::random_glowed_up::Engine;

/// Returns moves for bruteforce for early gamestates when calculation takes too long for smooth gameplay.
/// Only returns moves than can result from playing the first 3 turns against bruteforce.
/// If the first move is made against random and the rest against bruteforce opening_moves will
/// return a move from random_glowed_up (e.g. if the gamestate is not in the lookup table).
pub fn opening_moves(gamestate: u128) -> (u128, i8, u32, Duration) {
    let (response, number_of_nodes, computation_time) = if gamestate.count_ones() <= 3 {
        let response = &match gamestate {
            1180591620717411303424 => 14,
            4722366482869645213696 => 23,
            18889465931478580854784 => 36,
            75557863725914323419136 => 44,
            302231454903657293676544 => 54,
            1208925819614629174706176 => 65,
            4835703278458516698824704 => 76,

            152296391130140096069632 => 1414,
            157018685555415703355392 => 1424,
            171185785004024638996480 => 1434,
            152300930758564485529600 => 1444,
            454527773976203351818240 => 1454,
            1361222138687175232847872 => 1464,
            4987999597531062756966400 => 1475,

            43681889966544218226688 => 2313,
            42501586576202958635008 => 2322,
            42502451267331413770240 => 2333,
            118059162071741130342400 => 2344,
            344732753249484100599808 => 2353,
            1251427117960455981629440 => 2367,
            4878204576804343505747968 => 2376,

            2437921696781454341570560 => 3613,
            2441463471643606575480832 => 3624,
            2436742258082241537114112 => 3633,
            2512298968886651253686272 => 3642,
            2738972560064394223943680 => 3653,
            2436814892137031768473600 => 3663,
            7272444383619253629091840 => 3672,

            76747678718668589498368 => 4413,
            80289453580820823408640 => 4423,
            94456553029429759049728 => 4432,
            75567087379426154905600 => 4444,
            377798542001608471871488 => 4453,
            1284492906712580352901120 => 4465,
            4911270365556467877019648 => 4475,

            454527773976203351818240 => 5414,
            458069548838355585728512 => 5424,
            472236648286964521369600 => 5434,
            453351794041504367902720 => 5444,
            453365629099559650066432 => 5455,
            1662273001970115115220992 => 5464,
            5289050460814002639339520 => 5474,

            1814569321042661173362688 => 6515,
            1818111095904813407272960 => 6525,
            1832278195353422342914048 => 6535,
            1888946593147858085478400 => 6544,
            1813407176166017471610880 => 6555,
            1813462516398238600265728 => 6566,
            6649092007880460460883968 => 6575,

            7254735509308492459540480 => 7613,
            7258277284170644693450752 => 7623,
            7272444383619253629091840 => 7632,
            7329112781413689371656192 => 7644,
            7555786372591432341913600 => 7655,
            7253628704664069886443520 => 7666,
            7253850065592954401062912 => 7677,
            _ => 0,
        }
        .to_string();

        let (number_of_nodes, computation_time) = match gamestate.count_ones() {
            // These number correspond to numbers that resulted from testing
            1 => (3620395000, Duration::new(943, 642000000)),
            3 => (260955000, Duration::new(78, 501000000)),
            _ => panic!("Gamestate should have a maximum of 3 ones by if statement(s)"),
        };
        match response.as_str() {
            // Case where no matching move in lookup table was found and thus random_glowed_up move is made
            "0" => (
                Engine::make_move(gamestate).0,
                number_of_nodes,
                computation_time,
            ),
            _ => (
                // Matching move in lookup table was found and is returned as usual
                turn_series_of_columns_to_encoded_gamestate(response.as_str()),
                number_of_nodes,
                computation_time,
            ),
        }
    } else {
        let response = match gamestate {
            152305614783651927556096 => 756768524590966514909184,
            171195080433655531700224 => 171195080996605485121536,
            454537069405834244521984 => 454537069968784197943296,
            157027980985046596059136 => 157027981547996549480448,
            1361231434116806125551616 => 1965694343924120712904704,
            152305614506574997356544 => 152305614506575534227456,
            4988008892960693649670144 => 4988008893523643603091456,
            157027909208927534841856 => 157028485669679838265344,
            175917374858931138985984 => 175917375421881092407296,
            459259363831109851807744 => 459259364394059805229056,
            157028197157828709842944 => 157028197720778663264256,
            1365953728542081732837376 => 1365953729105031686258688,
            4992731187385969256955904 => 4992731187948919210377216,
            171195008657536470482944 => 171197314500545684176896,
            171196161297566100619264 => 171196161860516054040576,
            473426463279718787448832 => 473426463842668740870144,
            1380120827990690668478464 => 1380120828553640621899776,
            5006898286834578192596992 => 5006898287397528146018304,
            152300931321531618820096 => 2570152570550789968232448,
            171190397252993019805696 => 171192703096002233499648,
            454532386225171732627456 => 454532386225206092365824,
            157023297804384084164608 => 157023297804418443902976,
            1361226750936143613657088 => 1361226750936177973395456,
            152301003379108476878848 => 152301003379142836617216,
            4988004209780031137775616 => 4988004209780065497513984,
            454536997629715183304704 => 454573891117862602407936,
            454555444092313916145664 => 454555444655263869566976,
            1663462816962869381300224 => 1663462817525819334721536,
            5290240275806756905418752 => 5290240276369706858840064,
            1361231362340687064334336 => 1361231362340721424072704,
            1361305149035506925830144 => 1361305149598456879251456,
            6196934640517728786448384 => 6196934641080678739869696,
            5592467119024395771707392 => 5630246050887352933416960,
            5611351973269855925174272 => 5611388866758003344277504,
            5592480954082451053871104 => 5630259885945408215580672,
            5597184873821246989533184 => 5597194097193283844308992,
            6801388326953006519025664 => 6801397550325043373801472,
            5592462579395971382247424 => 5630241511258928543956992,
            5592757655243556697145344 => 5630536587106513858854912,
            119242059535467755339776 => 119242059676205243695104,
            43684195879922176098304 => 43684195879930766032896,
            345915650713210725597184 => 345915650853948213952512,
            43684484039929583632384 => 43684484180667071987712,
            1252610015424182606626816 => 1252610015564920094982144,
            43684267867147469848576 => 43684268007884958203904,
            4879387474268070130745344 => 4879387474408807619100672,
            118059450337301654142976 => 118068673709338508918784,
            42502739532891937570816 => 42502739673629425926144,
            344733041515044624400384 => 344735347358053838094336,
            42501586611388404465664 => 42503892454397618159616,
            1251427406226016505430016 => 1251429712069025719123968,
            43682178232104742027264 => 43684484075113955721216,
            4878204865069904029548544 => 5029320592521732676386816,
            118060315133983225544704 => 118069538506020080320512,
            42502451408073197092864 => 42503027868825500516352,
            344733906311726195802112 => 344733906311734785736704,
            42502739638445053837312 => 42502739638453643771904,
            1251428271022698076831744 => 1402543998474526723670016,
            43683043028786313428992 => 43683043028794903363584,
            4878205729866585600950272 => 4878205729866594190884864,
            118068385725252961828864 => 118070691568262175522816,
            118069538365282591965184 => 118069538928232545386496,
            420299840347435278794752 => 420299840910385232216064,
            118068673674154136829952 => 118068674237104090251264,
            1326994205058407159824384 => 1326994205621357113245696,
            119248977064495396421632 => 119248977627445349842944,
            4953771663902294683942912 => 4953771664465244637364224,
            420292922818407637712896 => 420302146190444492488704,
            344735059162862058471424 => 344735059162870648406016,
            344753505836567023845376 => 344753508088366837530624,
            344735347322869466005504 => 344735347463606954360832,
            1553660878707122488999936 => 1553660878847859977355264,
            5180438337551010013118464 => 5180438337691747501473792,
            10998391538603403702697984 => 10998400761975440557473792,
            10922834827798993986125824 => 10922834827939731474481152,
            11225065129781146672955392 => 11225067435624155886649344,
            10922833963107865530990592 => 10922833963143049903079424,
            10922907461853784217485312 => 10922908038314536520908800,
            10924014266498206790582272 => 10924016572341216004276224,
            10923128822782668732104704 => 10923131128625677945798656,
            7371614079759516178579456 => 7371623303131553033355264,
            7296057368955106462007296 => 7296057369095843950362624,
            7598287670937259148836864 => 7598289976780268362530816,
            7296056504263978006872064 => 7296204078216567683284992,
            7296130003009896693366784 => 7296132308852905907060736,
            7297236807654319266463744 => 7297239113497328480157696,
            7296351363938781207986176 => 7900814273746095795339264,
            2513481866350377878683648 => 2522926599316117169111040,
            2437924002694832299442176 => 2589039730146660946280448,
            2740155457528120848941056 => 2740155457668858337296384,
            2442646369107333200478208 => 2593762096559161847316480,
            2437997789600758393470976 => 2437997789741495881826304,
            2437924074682057593192448 => 2589039802133886240030720,
            7273627281082980254089216 => 7273627281223717742444544,
            2592583810781453649707008 => 2592583811344403603128320,
            2592580352016939829166080 => 2592580352157677317521408,
            2894810653999092515995648 => 2894819877371129370771456,
            2592579487325811374030848 => 2592588710697848228806656,
            2592652986071730060525568 => 2592655291914739274219520,
            2593759790716152633622528 => 2593769014088189488398336,
            7428282477553951921143808 => 7428291700925988775919616,
            2512300121948893348888576 => 2521744854914632639315968,
            2436742258222983320436736 => 3041205168030297907789824,
            2738973713126636319145984 => 2890089440578464965984256,
            2441464624705848670683136 => 2592580352157677317521408,
            2436816045199273863675904 => 2436816045199282453610496,
            2437922849843696436772864 => 2437922849843705026707456,
            7272445536681495724294144 => 7272445536681504314228736,
            2521748313538408971501568 => 2521748314101358924922880,
            2521744854773895150960640 => 2521744854914632639315968,
            2823975156756047837790208 => 2823984380128084692566016,
            2521743990082766695825408 => 2521891564035356372238336,
            2521817488828685382320128 => 2521826712200722237095936,
            2522924293473107955417088 => 2522933516845144810192896,
            7357446980310907242938368 => 7357456203682944097714176,
            2814532729633317761056768 => 2823977462599057051484160,
            2738974865977772181815296 => 2738974865977780771749888,
            2738993312651477147189248 => 2738993314903276960874496,
            2743697232390273082851328 => 2894812959842101729689600,
            2739048652883698275844096 => 2739048653024435764199424,
            7574678144365920136462336 => 7574678144506657624817664,
            2512375061705955305586688 => 2521819794671694596014080,
            2436817198050409726345216 => 2436817198050418316279808,
            2441539564462910627381248 => 2592655291914739274219520,
            2436817202483640609538048 => 2436817202624378097893376,
            7272520476438557680992256 => 7272520476579295169347584,
            7281890269506497526366208 => 7281890269647235014721536,
            7584120571488650213195776 => 7584122877331659426889728,
            7281889404815369071230976 => 7281889404850553443319808,
            7281962903561287757725696 => 7281965209404296971419648,
            7283069708205710330822656 => 7283072014048719544516608,
            7282184264490172272345088 => 7282186570333181486039040,
            114526610863100727918592 => 114528916706109941612544,
            114527763503130358054912 => 114527764066080311476224,
            416758065485283044884480 => 416760371328292258578432,
            1323452430196254925914112 => 1323452430759204879335424,
            114526682639219789135872 => 114526683202169742557184,
            4950229889040142450032640 => 4950229889603092403453952,
            103901286276644026187776 => 103901286276678385926144,
            103902438916673656324096 => 103902439479623609745408,
            406132740898826343153664 => 2823984380128084692566016,
            103901574225545201188864 => 103901574788495154610176,
            1312827105609798224183296 => 1917290015417112811536384,
            105081877615886460780544 => 105081878178836414201856,
            4939604564453685748301824 => 4939604565016635701723136,
            75567087379460515692544 => 75567087379460515692672,
            94456553310939095498752 => 698919463118253682851840,
            377798542283117808320512 => 415577474146074970030080,
            80289453862330159857664 => 118068385725287321567232,
            1284492906994089689350144 => 1888955816801404276703232,
            76747679000177925947392 => 76747679000177928044544,
            4911270365837977213468672 => 4911270365837977215565824,
            415577474146040610291712 => 415579779989049823985664,
            415578626786070240428032 => 415578627349020193849344,
            415595920608639343132672 => 415595922860439156817920,
            1624503293479194808287232 => 11295909850396228205936640,
            5251280752323082332405760 => 7669132391552340681818112,
            1888955816801369916964864 => 1888992710289517336068096,
            1907845282451373521108992 => 1907845283014323474530304,
            1888974263263968649805824 => 1888974263826918603227136,
            1893678183002764585467904 => 1893678183565714538889216,
            1889029603496189778460672 => 1889029604059139731881984,
            1890136408140612351557632 => 1890136408703562304978944,
            6724659094978411639078912 => 6724659095541361592500224,
            5515733275645257441083392 => 5515770169133404860186624,
            5534622741295261045227520 => 5534659634783408464330752,
            5515751722107856173924352 => 5515751722670806127345664,
            5520455641846652109586432 => 5520455642409602063007744,
            5516913866984499875676160 => 5516913867547449829097472,
            5516028423268961817198592 => 5516028423831911770619904,
            458078772491867417214976 => 458078772491901776953344,
            476968238141871021359104 => 476968238704820974780416,
            458097218954466150055936 => 458097219517416103477248,
            458079060440768592216064 => 458079061003718545637376,
            1667004591825021615210496 => 1667004592387971568631808,
            5293782050668909139329024 => 5293782051231859092750336,
            472245871940476352856064 => 472245871940510712594432,
            472247024580505982992384 => 472247025143455936413696,
            472264318403075085697024 => 472264318966025039118336,
            1681171691273630550851584 => 1681171691836580504272896,
            5307949150117518074970112 => 5307949150680468028391424,
            453351794604471501193216 => 453351794604471503290368,
            472241260535932902178816 => 472241260535967261917184,
            453370241348528030875648 => 453370241348562390614016,
            458074161087323966537728 => 458074161087358326276096,
            1662277614219083496030208 => 1662277614219117855768576,
            5289055073062971020148736 => 5289091966551118439251968,
            453370243037377891139584 => 453370243600327844560896,
            472255097282838044606464 => 472264320654874899382272,
            453365631351428183228416 => 453374854723465038004224,
            458087997834229108965376 => 458097221206265963741184,
            1662291450965988638457856 => 1662300674338025493233664,
            454546222972076875055104 => 454555446344113729830912,
            5289068909809876162576384 => 5289078133181913017352192,
            1662282225623626946707456 => 1662282225623661306445824,
            1662300672086225679548416 => 1662300672649175632969728,
            1662356012318446808203264 => 1662356012881396761624576,
            6497985503800668668821504 => 6497985504363618622242816,
            5289059684467514470825984 => 5289096577955661889929216,
            5289078130930113203666944 => 5289078131493063157088256,
            5289354832091218846941184 => 5289354832654168800362496,
            1890164078256722915885056 => 1890173301628759770660864,
            1833495680462287173320704 => 1833495682714086987005952,
            1814606215656708499308544 => 1814606215656845938262016,
            1819328581013678237679616 => 1819328583265478051364864,
            1814680001507103430672384 => 1814680003758903244357632,
            1814606286588402630393856 => 1814606288840202444079104,
            6650309492989325291290624 => 6650309495241125104975872,
            1893705853118875149795328 => 1893715076490912004571136,
            1837037455324439407230976 => 1837037457576239220916224,
            1818147990518860733218816 => 1818147990518998172172288,
            1818148277623336978087936 => 1818148277658521350176768,
            1818221776369255664582656 => 1818221778621055478267904,
            6653851267851477525200896 => 6653851270103277338886144,
            1907872952567484085436416 => 1907882175939520940212224,
            1832316241763074368864256 => 1832316241903811857219584,
            1832315089967469668859904 => 1832317395810478882553856,
            1832388875817864600223744 => 1832388878069664413908992,
            6668018367300086460841984 => 6668018369551886274527232,
            1888965042143731608715264 => 1888974265515768463491072,
            1832296644349295866150912 => 1832296644349433305104384,
            1813407178417886004772864 => 1813554752370475681185792,
            1818129544900686930509824 => 1969245272352515577348096,
            1813480965394112123502592 => 1813480965394249562456064,
            1814587770038534696599552 => 1814587770038672135553024,
            6649110456876333984120832 => 6649110456876471423074304,
            1889020389131352178425856 => 1889029612503389033201664,
            1832351991336916435861504 => 1832388884825063854964736,
            1813480972149511564558336 => 1813480974401311378243584,
            1818184891888307500220416 => 1855963823751264661929984,
            1813462525405712732913664 => 1813499418893860152016896,
            1814643117026155266310144 => 1965758844477983913148416,
            6649165803863954553831424 => 6649202697352101972934656,
            6724686765094522203406336 => 6724686767346322017091584,
            6649128902494507786829824 => 6649128902494645225783296,
            6649202688344902718193664 => 6649202690596702531878912,
            6649424049273787232813056 => 6649424051525587046498304,
            7368072304897363944669184 => 7368081528269400799444992,
            7292515594092954228097024 => 7292515594233691716452352,
            7594745896075106914926592 => 7594748201918116128620544,
            7292588228147744459456512 => 7292588237154943714197504,
            7292514513229043659177984 => 7292516819072052872871936,
            7292809589076628974075904 => 7443925316528457620914176,
            7329122005067201203142656 => 7329122005067235562881024,
            7348011470717204807286784 => 7357456203682944097714176,
            7631353459689383520108544 => 7631353460252333473529856,
            7333844371268595871645696 => 7371623303131553033355264,
            7329195791762021064638464 => 7329195792324971018059776,
            7330302596406443637735424 => 7330302596969393591156736,
            7329417152690905579257856 => 7329417153253855532679168,
            7631381129805494084435968 => 7631390353177530939211776,
            7574712732011058341871616 => 7574715037854067555565568,
            7555823267205479667859456 => 7555970841158069344272384,
            7560545632562449406230528 => 7711661360014278053068800,
            7555897053055874599223296 => 7555897055307674412908544,
            7557003857700297172320256 => 7557003859952096986005504,
            7556118413984759113842688 => 7556118416236558927527936,
            7329186577397183464603648 => 7329195800769220319379456,
            7272518179602747722039296 => 7281962912568487012466688,
            7555860168574926434861056 => 7593639100437883596570624,
            7258351080154138786398208 => 7296130012017095948107776,
            7253628713671544019091456 => 7291407645534501180801024,
            7254809305291986552487936 => 7292588237154943714197504,
            7253923861576448494010368 => 7291702793439405655719936,
            7329407965347665743446016 => 7329417188719702598221824,
            7272739567553230000881664 => 7423855295005058647719936,
            7556081556525408713703424 => 7707197283977237360541696,
            7258572468104621065240576 => 7296351399967578226950144,
            7253923888598046258233344 => 7253923897605245512974336,
            7255030693242468831330304 => 7406146420694297478168576,
            7253850101622850931654656 => 7404965829074679578492928,
            // Respond with random_glowed_up if no matching move from lookup table is found
            _ => Engine::make_move(gamestate).0,
        };

        (response, 36332777, Duration::new(9, 567485000))
    };

    (response, 0, number_of_nodes, computation_time)
}
